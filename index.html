<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>onespark</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/libs/modernizr-2.6.1.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <!-- Template for application -->
        <script type="text/x-handlebars" data-template-name="application">
          <h1>One Spark Test App</h1>
          <hr/>
          {{outlet session}}
        </script>

        <!-- Template for out -->
        <script type="text/x-handlebars" data-template-name="out">
          <hr /><br />
          
          <!h1>Logged Out</h1>
          <h2>Login with "bob/testbob"</h2>
          <label>Username: </label>{{view Ember.TextField placeholder="your username"  valueBinding="App.router.outController.username"}}<br />
          <label>Password: </label>{{view Ember.TextField placeholder="your password" valueBinding="App.router.outController.password" type="password"}}<br />

          {{#if App.router.outController.isError}}
            <span class="login-error">Error: Invalid username or password.</span><br />
          {{/if}}
            
          <br /><button {{action goLoggedIn}}>Login</button>


          
          <h2> ...or register a new Onespark-User</h2>
          {{#with App.RegisterController.registerInformation}}
          <label>Username: </label>{{view Ember.TextField valueBinding="username"}}<br />
          <label>Email: </label>{{view Ember.TextField valueBinding="email"}}<br />
          <label>Password: </label>{{view Ember.TextField valueBinding="password" type="password"}}<br />
          <label>Password: </label>{{view Ember.TextField valueBinding="password_confirmation" type="password"}}<br />
          {{#if App.loginController.isError}}
            <span class="register-error">Error: User already exists.</span><br />
          {{/if}}
          <button {{bindAttr disabled="valid"}} {{action goRegister href=true}}>Register</button>
          {{/with}} 

        </script>

        <!-- Template for in -->
        <script type="text/x-handlebars" data-template-name="in">
          <hr /><br />
          <h1>Logged In</h1>
          <span>Welcome to Onespark!</span><br /><br />
          <button {{action goLoggedOut href=true}}>Logout</button>
          {{outlet navigation}}
          {{outlet body}}
        </script>

        <!-- Template for navigation -->
        <script type="text/x-handlebars" data-template-name="traversal">
          <hr /><br />
          <p><a {{action goToProjects href=true}}>Projects</a>
          <p><a {{action goToUsers href=true}}>Users</a>
        </script>

        <!-- Template for /projects -->
        <script type="text/x-handlebars" data-template-name="projects">
          <hr /><br />
          <h2>Projects:</h2>
          <ul>
          {{#each project in controller}}
            <li>{{project.title}}</li>
          {{/each}}
          </ul>
        </script>

        <!-- Template for /users -->
        <script type="text/x-handlebars" data-template-name="users">
          <hr /><br />
          <h2>Users:</h2>
           
        </script>

        <!-- Libraries and Ressources -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/libs/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="js/libs/handlebars-1.0.0.beta.6.js"></script>
        <!--<script src="js/libs/ember-1.0.pre.js"></script>-->
        <script src="js/libs/ember-1.0.pre.min.js"></script>
        <script src="js/libs/jquery.base64.min.js"></script>
        <script src="js/libs/jquery.cookie.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
